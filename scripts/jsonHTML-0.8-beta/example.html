<!--
    Disclaimer: jsonHTML is provided to you as Free Software (refer to: gnu.org/philosophy/free-sw.html ), 
    by using this code you agree not to hold me responsible for any damages, or consequences of your 
    malicious or "friendly" use of this code. This code is provided with no warranties, or guarantees, 
    all I ask is you retain credit back to me if you use my code.
-->

<html>
    <head>
        <title>jsonHTML EXAMPLE!</title>
        <script type='text/javascript' src='http://code.jquery.com/jquery-1.10.2.min.js'></script> <!--MAKE SURE TO INCLUDE JQUERY!!-->
        <script type='text/javascript' src='jsonHTML.js'></script>
        <script>
            function mDiv(element) { //A generic mutable JSON Div.
                return {
                    type: 'div',
                    id: element.id,
                    text: element.text,
                    functions: [element.css, element.event],
                    children: undefined !== element.children ? element.children : undefined,
                }  
            };
            
            function mTxt(element) {
                return {
                    type: 'textbox',
                    id: element.id,
                    text: element.text,
                    functions: [element.css, element.event],
                    children: undefined !== element.children ? element.children : undefined,
                }  
            };

            var jsonHTMLObj = function (data) {
                return {
                    type: 'div',
                    id: 'thisIsDivStuff'+data.indx, //there must always be an id so that my code knows where to make appends.
                    class: 'divStuff',
                    text: '<h2>'+'HELLO WORLD!'+'</h2>', //you can still have some html, it just throws it all in as a string.
                    functions: [function () {
                        $('#thisIsDivStuff'+data.indx).css({ //set the css styling using jQuery! Or any other functions you would like!
                            'width': '50%',
                            'border': '1px solid black',
                            'text-align': 'center',
                        });
                    }],
                    children: [ //an array of child objects, these can be anything, even text boxes.
                        {
                            type: 'div',
                            id: 'thisIsDivStuffChild0', //notice this id is static and could cause some bugs, +data.indx would make it dynamic.
                            text: 'Hello World From Child 0',
                            functions: [function () {
                                $('#thisIsDivStuffChild0').css({
                                    'width': '50%',
                                    'border': '1px solid black',
                                    'text-align': 'center',
                                });
                            }]
                        },
                        
                        mDiv({
                            id: 'thisIsDivStuffChild1',
                            text: 'Hello World From Child 1 <-- Click me!',
                            css: function() {
                                $('#thisIsDivStuffChild1').css({
                                    'width': '50%',
                                    'border': '1px solid black',
                                    'text-align': 'center',
                                });
                            },
                            event: function () {
                                $('#thisIsDivStuffChild1').click(function() { //mutate on the click!
                                    $('#thisIsDivStuffChild1').remove(); //remove the old
                                    appendHTML(mTxt({ //in with the new!
                                        id: 'thisIsDivStuffChild1',
                                        text: 'Hello World From Child 1',
                                        css: function() {
                                            $('#thisIsDivStuffChild1').css({
                                                'color': 'purple',
                                            })
                                        },
                                        event: function () { //now in reverse!
                                            $('#thisIsDivStuffChild1').blur(function() { //when you click away from the textbox, it goes back to original!
                                                $('#thisIsDivStuffChild1').remove();
                                                appendHTML(jsonHTMLObj(data).children[1], '#thisIsDivStuff'+data.indx); // I can just grab the original object, like recursion!
                                            });
                                            $('#thisIsDivStuffChild1').focus(); //so you will be in the text box.
                                        },
                                    }), '#thisIsDivStuff'+data.indx);
                                });
                            },
                        }),
                    ]
                }
            };
            $(document).ready(function () {
                appendHTML(jsonHTMLObj({ //now just append it to any div!
                    indx: 1, //these are properties that you can set to your template object.
                }), 'body');
            });
        </script>
    </head>
        <body></body>
</html>
<!--
            )
            
            (
        )   )
        (
    .---------------------.
    |       _____         |___      
    |     .'`_,-._`'.      __ \
    |    /  ( [ ] )  \    |  ||
    |   /.-""`( )`""-.\   |  ||
    |  ' <'```(.)```'> '  | _||
    |    <'```(.)```'>    |/ _/
    |     <'``(.)``'>      ./
    |      <``\_/``>      |
    |       `'---'`       |
    \github.com/trillobite/              Keep it black.
      \_________________/  
-->